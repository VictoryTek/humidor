# Humidor v1.2.1 Release Notes

**Release Date:** December 7, 2025

## ğŸ¯ Overview

Version 1.2.1 is a patch release that fixes responsive layout issues discovered after the v1.2.0 PWA release. This update ensures proper layout behavior across all screen resolutions, particularly at breakpoint boundaries.

## ğŸ› Bug Fixes

### Desktop Layout Fix
- **Search/Filter Bar Positioning**: Fixed issue where search and filter bar was appearing on a separate row below the header on desktop resolutions
- **Expected Behavior**: On desktop/wide screens, the search bar stays inline with "My Humidors" title and "+ HUMIDOR" button
- **Mobile Behavior**: On mobile (â‰¤768px), search bar correctly moves to a separate row below the header
- **Impact**: Restores proper three-column grid layout on desktop (`auto 1fr auto`)

### Hamburger Menu Alignment
- **Menu Button Position**: Fixed hamburger menu jumping above the logo at 769px screen width
- **Root Cause**: Base `.header-left` style lacked flexbox display properties, causing vertical stacking at certain resolutions
- **Solution**: Added `display: flex`, `align-items: center`, and `gap: 0.75rem` to base header-left style
- **Impact**: Hamburger menu now stays properly positioned left of logo at all screen sizes between tablet (769px) and desktop (1024px+)

## ğŸ”§ Technical Details

### CSS Changes

**File**: `static/styles.css`

1. **Page Actions Header Grid**
   - Added explicit `grid-row: 1` to `.page-title`, `.cigar-search-section-inline`, and `.header-actions`
   - Ensures all three elements stay on first row in desktop view
   - Mobile media query (â‰¤768px) overrides with `grid-row: 2` for search section

2. **Header Left Flexbox**
   - Base `.header-left` now includes full flexbox properties
   - Consistent layout behavior from mobile to desktop
   - Prevents element stacking at breakpoint boundaries

### Service Worker
- Updated cache version to `humidor-v1.2.1`
- Automatic cache cleanup on update
- Users will receive update notification after deployment

## ğŸ“Š Testing

- **Manual Testing**: Verified layout at 768px, 769px, 1024px, and 1920px resolutions
- **Browser Testing**: Chrome, Edge, Firefox, Safari
- **Device Testing**: Desktop, tablet simulation, mobile simulation
- **All Tests**: 132/132 passing (no test changes required)

## ğŸš€ Deployment

### Update Process
1. Users with v1.2.0 installed will see update notification within 1 hour
2. Click "Update Now" to reload with v1.2.1
3. Old caches automatically cleared
4. Layout fixes applied immediately

### Backwards Compatibility
- Fully compatible with v1.2.0
- No database changes
- No API changes
- Pure CSS fixes

## ğŸ“± Affected Features

### Fixed Layouts
- âœ… Desktop humidor page header (title, search, button alignment)
- âœ… Mobile/tablet navigation menu (hamburger positioning)
- âœ… All responsive breakpoints (768px, 769px, 1024px)

### Unaffected Features
- âœ… PWA installation and offline functionality
- âœ… Service worker caching strategies
- âœ… Mobile responsive grids and cards
- âœ… Touch targets and mobile optimizations
- âœ… All API endpoints and data operations

## ğŸ“š Version Comparison

| Component | v1.2.0 | v1.2.1 |
|-----------|---------|---------|
| Cargo.toml | 1.2.0 | 1.2.1 |
| Service Worker | humidor-v1.2.0 | humidor-v1.2.1 |
| Desktop Layout | Bug: Search on new row | Fixed: Three-column grid |
| Menu @ 769px | Bug: Menu above logo | Fixed: Menu beside logo |
| Cache Strategy | âœ… Working | âœ… Working |
| PWA Features | âœ… Working | âœ… Working |

## ğŸ¯ Resolution Behavior

### Desktop (>1024px)
- Three-column header grid: Title | Search/Filters | Button
- Hamburger menu hidden, sidebar visible
- All elements on single row

### Tablet (769px - 1024px)
- Hamburger menu visible beside logo âœ… **FIXED**
- Three-column header grid maintained âœ… **FIXED**
- Sidebar slides out when opened

### Mobile (â‰¤768px)
- Hamburger menu beside logo (smaller)
- Two-row header: Title+Button | Search/Filters
- Single column content layout

## ğŸ” Known Issues

None identified in this release.

## ğŸ™ Acknowledgments

Thanks to users who tested v1.2.0 and reported layout issues at specific breakpoints.

---

**Previous Version:** [v1.2.0](v1.2.0.md) - PWA Implementation

**Full Changelog:** See [CHANGELOG.md](../CHANGELOG.md)

**Tests:** 132/132 passing âœ…

**Ready for Production:** âœ…
